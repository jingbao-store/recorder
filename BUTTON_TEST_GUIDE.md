# 按钮状态快速测试指南

## 🎯 测试目标

验证按钮的三种状态：
1. ✅ **常态**（40% 透明度）- 无焦点时
2. ✅ **选中**（80% 透明度）- 有焦点时
3. ✅ **按下**（100% 透明度）- 按下 ENTER 键时

验证确认键是否能正常触发录制。

---

## 📱 应用已安装

应用已经安装到你的 Rokid 设备并已启动！

---

## 🧪 测试步骤

### 测试 1：观察常态（40%）

**操作**：
1. 应用启动后，默认显示"开始录制"按钮
2. **不要按任何键**，只是观察

**预期效果**：
```
┌────────────────────┐
│                    │
│  [开始录制]         │  ← 淡绿色边框（40%）
│                    │
└────────────────────┘
```

**检查点**：
- [ ] 按钮有淡淡的绿色边框
- [ ] 边框清晰可见（不是完全透明）
- [ ] 边框不太亮（不是很醒目）

---

### 测试 2：观察选中（80%）

**操作**：
1. 按钮默认已经有焦点（应该比刚才更亮）
2. 如果按钮失去焦点，按方向键重新聚焦

**预期效果**：
```
┌────────────────────┐
│                    │
│  [开始录制]         │  ← 亮绿色边框（80%）
│                    │
└────────────────────┘
```

**检查点**：
- [ ] 边框比常态更亮
- [ ] 边框清晰醒目
- [ ] 明确表示"这个按钮有焦点"

---

### 测试 3：观察按下（100%）

**操作**：
1. 确保"开始录制"按钮有焦点（边框 80%）
2. **按住 ENTER 键不放**
3. 观察边框变化
4. **释放 ENTER 键**

**预期效果**：

**按住时**：
```
┌────────────────────┐
│                    │
│  [开始录制]         │  ← 最亮的绿色边框（100%）
│                    │
└────────────────────┘
```

**释放后**：
- 边框回到 80%
- 录制开始

**检查点**：
- [ ] 按住 ENTER 时，边框变为最亮（100%）
- [ ] 释放 ENTER 时，边框回到 80%
- [ ] 录制成功开始

---

### 测试 4：确认录制启动

**操作**：
1. 按 ENTER 键开始录制
2. 观察界面变化

**预期效果**：
- ✅ 系统弹出屏幕录制权限请求
- ✅ 授权后录制开始
- ✅ 显示"录制中"状态
- ✅ 显示两个按钮：
  - "后台运行"（焦点，80%）
  - "停止录制"（无焦点，40%）

**检查点**：
- [ ] 确认键成功触发
- [ ] 权限弹窗出现
- [ ] 录制开始

---

### 测试 5：双按钮状态切换

**操作**：
1. 在录制中状态，观察两个按钮
2. 按 ↓ 键切换焦点
3. 观察边框变化

**预期效果**：

**初始状态**：
```
[后台运行]  ← 80% 边框（有焦点）
[停止录制]  ← 40% 边框（无焦点）
```

**按 ↓ 键后**：
```
[后台运行]  ← 40% 边框（失去焦点）
[停止录制]  ← 80% 边框（获得焦点）
```

**检查点**：
- [ ] 焦点切换时，边框透明度正确变化
- [ ] 有焦点的按钮：80%
- [ ] 无焦点的按钮：40%

---

### 测试 6：双按钮按下状态

**操作**：
1. 确保"停止录制"有焦点（边框 80%）
2. **按住 ENTER 键**
3. 观察边框变化（应该变为 100%）
4. **释放 ENTER 键**

**预期效果**：
- 按住时：边框 100%（最亮）
- 释放时：边框回到 80%
- 录制停止

**检查点**：
- [ ] 按下时边框变为 100%
- [ ] 释放时触发停止录制
- [ ] 显示"录制完成"

---

## 🔍 视觉对比参考

### 透明度对比

**40%（常态）：**
- 淡淡的绿色
- 像"幽灵边框"
- 可见但不突出

**80%（选中）：**
- 明显的绿色
- 清晰醒目
- "我有焦点"

**100%（按下）：**
- 鲜艳的绿色
- 最亮最醒目
- "我被按下了"

---

## 🎮 按键操作汇总

| 按键 | 功能 | 效果 |
|------|------|------|
| **↑** | 向上导航 | 焦点移动，边框透明度变化 |
| **↓** | 向下导航 | 焦点移动，边框透明度变化 |
| **ENTER（按住）** | 按下状态 | 边框变为 100% |
| **ENTER（释放）** | 触发按钮 | 执行动作（开始/停止/后台） |

---

## ✅ 测试清单

### 单按钮测试

- [ ] 常态边框（40%）可见
- [ ] 选中边框（80%）更亮
- [ ] 按下边框（100%）最亮
- [ ] 确认键成功触发录制

### 双按钮测试

- [ ] 焦点切换时透明度正确
- [ ] 按下时透明度达到 100%
- [ ] 释放时触发正确的动作
- [ ] 导航（↑↓）流畅

### 权限按钮测试

- [ ] "授予权限"按钮状态正确
- [ ] 按下时透明度达到 100%
- [ ] 触发权限请求弹窗

---

## 🐛 如果发现问题

### 问题 1：常态边框看不见（0% 透明度）

**检查**：
```bash
adb -s 1901092534000358 logcat | grep "borderAlpha"
```

**预期**：应该显示 0.4（40%）

---

### 问题 2：按 ENTER 无反应

**检查**：
```bash
adb -s 1901092534000358 logcat | grep "KeyEvent"
```

**预期**：应该看到 KeyDown 和 KeyUp 事件

**手动触发**：
```bash
# 模拟 ENTER 键
adb -s 1901092534000358 shell input keyevent 66
```

---

### 问题 3：边框透明度不变

**可能原因**：
- 焦点未正确设置
- 状态更新未触发

**解决**：
- 重启应用
- 检查日志

---

## 📊 测试结果记录

### 通过的测试

- [ ] 测试 1：常态（40%）
- [ ] 测试 2：选中（80%）
- [ ] 测试 3：按下（100%）
- [ ] 测试 4：录制启动
- [ ] 测试 5：双按钮切换
- [ ] 测试 6：双按钮按下

### 总分

**通过： __ / 6**

---

## 🎯 关键改进点

### 之前的问题

1. ❌ 按 ENTER 键无法开始录制
2. ❌ 无焦点时按钮边框不可见
3. ❌ 按下时无视觉反馈
4. ❌ 边框透明度不符合设计规范

### 现在的改进

1. ✅ 按 ENTER 键正常触发
2. ✅ 无焦点时边框 40%（可见）
3. ✅ 按下时边框 100%（最亮）
4. ✅ 完全符合 Rokid 设计规范

---

## 💡 使用技巧

### 技巧 1：观察边框亮度变化

当你导航时，注意观察边框亮度：
- 失去焦点：变暗（80% → 40%）
- 获得焦点：变亮（40% → 80%）
- 按下瞬间：最亮（80% → 100%）

### 技巧 2：按住 ENTER 测试

想要清楚看到按下状态？
1. 按住 ENTER 键 1-2 秒
2. 观察边框变为最亮
3. 再释放

### 技巧 3：对比多个按钮

在录制状态下，有两个按钮：
- 用 ↑↓ 键快速切换
- 对比有焦点（80%）和无焦点（40%）的区别

---

## 🎨 设计原理

### 为什么是 40% / 80% / 100%？

**40%（常态）**：
- 让用户知道"这是一个按钮"
- 但不会太突出，不抢焦点

**80%（选中）**：
- 明确告诉用户"当前焦点在这里"
- 亮度适中，不会太刺眼

**100%（按下）**：
- 瞬间反馈"你按下了"
- 最亮，最醒目

### 渐进式视觉层次

```
常态 ──┐
       ├─ 40% 差距 ─→ 明显但不突兀
选中 ──┘
       ├─ 20% 差距 ─→ 清晰按下反馈
按下 ──┘
```

---

**开始测试吧！** 🚀

应用已在你的 Rokid 眼镜上运行，尝试按 ENTER 键开始录制！

