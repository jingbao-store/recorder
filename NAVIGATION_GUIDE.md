# 方向键导航操作指南

## 🎮 新版本功能

### ✅ 录制和后台分离

之前版本：
- ❌ 点击"开始录制"后自动切换到后台

**新版本：**
- ✅ 点击"开始录制" → 开始录制，**应用保持在前台**
- ✅ 显示两个按钮：**"后台运行"** + **"停止录制"**
- ✅ 用户手动选择是否切换到后台
- ✅ 支持**方向键导航**在两个按钮间切换

## 🎯 完整操作流程

### 步骤 1：启动应用

应用显示：
```
┌────────────────────────┐
│    AR 录制器           │
│    画中画录制           │
│                        │
│    [  待机  ]          │
│                        │
│ [🟢 开始录制 ]  ← 绿色边框（有焦点）
└────────────────────────┘
```

### 步骤 2：开始录制

**操作**：按 ENTER 键

**结果**：
- 授予屏幕录制权限（系统弹窗）
- 录制开始
- 应用**保持在前台**
- 显示两个按钮

```
┌────────────────────────┐
│    AR 录制器           │
│                        │
│    🔴 录制中           │
│      00:15             │
│                        │
│  ↑↓ 切换按钮           │
│  确认键选择操作         │
│                        │
│ [🟢 后台运行 ]  ← 默认焦点
│ [   停止录制  ]        │
└────────────────────────┘
```

### 步骤 3：方向键导航

**操作**：按 ↓ 键（向下）

**结果**：焦点切换到"停止录制"

```
┌────────────────────────┐
│    AR 录制器           │
│                        │
│    🔴 录制中           │
│      00:20             │
│                        │
│  ↑↓ 切换按钮           │
│  确认键选择操作         │
│                        │
│ [   后台运行  ]        │
│ [🟢 停止录制 ]  ← 焦点移到这里
└────────────────────────┘
```

**操作**：按 ↑ 键（向上）

**结果**：焦点回到"后台运行"

### 步骤 4A：选择后台运行

**操作**：
1. 按 ↑ 键确保焦点在"后台运行"（有绿色边框）
2. 按 ENTER 键

**结果**：
- 应用切换到后台
- 录制继续进行
- 通知栏显示"正在录制..."
- 可以打开其他应用

```
┌────────────────────────┐
│  通知栏                 │
│  AR 录制器              │
│  正在录制... 00:30      │
│  [停止录制]             │
└────────────────────────┘

现在你可以：
✅ 返回主屏幕
✅ 打开其他应用
✅ 所有操作都被录制
```

### 步骤 4B：选择停止录制

**操作**：
1. 按 ↓ 键确保焦点在"停止录制"（有绿色边框）
2. 按 ENTER 键

**结果**：
- 录制结束
- 视频保存到 `/sdcard/Movies/Camera/` (与 photoView4rokidglasses 兼容)
- 返回待机状态

## 🎮 按键操作总结

### 所有可用按键

```
触摸板按键布局：
┌─────────────────┐
│     ↑ UP        │  ← 向上导航
│  ←  ●  →        │  ● = ENTER 确认
│     ↓ DOWN      │  ← 向下导航
└─────────────────┘
```

### 按键功能

| 按键 | 功能 | 说明 |
|------|------|------|
| **ENTER** | 确认/点击 | 触发当前有焦点的按钮 |
| **↑ UP** | 向上导航 | 将焦点移到上一个按钮 |
| **↓ DOWN** | 向下导航 | 将焦点移到下一个按钮 |
| **BACK** | 返回 | 退出应用或返回上一级 |

## 📋 不同状态的操作

### 状态 1：待机（IDLE）

显示：
- 1 个按钮："开始录制"

操作：
- ✅ ENTER 键 → 开始录制

---

### 状态 2：录制中（RECORDING）

显示：
- 2 个按钮："后台运行" + "停止录制"
- 默认焦点在"后台运行"

操作：
- ✅ ↑/↓ 键 → 切换焦点
- ✅ ENTER 键 → 触发选中的按钮

---

### 状态 3：已停止（STOPPED）

显示：
- 1 个按钮："开始录制"

操作：
- ✅ ENTER 键 → 重新开始录制

## 🎯 典型使用场景

### 场景 1：快速录制后立即后台

```
1. 按 ENTER 键 → 开始录制
2. 按 ENTER 键 → 后台运行（焦点默认在第一个按钮）
3. 打开其他应用
4. 通知栏停止录制
```

**快捷操作**：连按两次 ENTER 键！

---

### 场景 2：短暂录制后停止

```
1. 按 ENTER 键 → 开始录制
2. 按 ↓ 键 → 切换到"停止录制"
3. 按 ENTER 键 → 停止录制
```

---

### 场景 3：录制一段时间后后台

```
1. 按 ENTER 键 → 开始录制
2. 等待一段时间（观察预览）
3. 按 ENTER 键 → 后台运行
4. 打开其他应用
```

## 🔍 视觉反馈

### 焦点指示器

- **绿色边框** = 当前有焦点的按钮
- **按钮颜色**：
  - 绿色 = "后台运行" / "开始录制"
  - 红色 = "停止录制"

### 示例

**焦点在"后台运行"：**
```
[🟢═════════════] ← 绿色边框
[   停止录制    ]
```

**焦点在"停止录制"：**
```
[   后台运行    ]
[🟢═════════════] ← 绿色边框
```

## 🐛 常见问题

### Q1：按 ↑↓ 键没有反应？

**检查**：
- 焦点是否在按钮上（有绿色边框）
- 当前是否在录制状态（只有录制中才有两个按钮）

**解决**：
- 如果焦点丢失，重启应用
- 用 ADB 模拟：`adb shell input keyevent 19`（↑）或 `20`（↓）

---

### Q2：焦点总是在第一个按钮，无法切换？

**可能原因**：按键处理问题

**解决**：
```bash
# 查看日志
adb -s 1901092534000358 logcat -s RokidRecorderScreen:D

# 手动模拟方向键
adb -s 1901092534000358 shell input keyevent KEYCODE_DPAD_DOWN
```

---

### Q3：按 ENTER 键触发了错误的按钮？

**原因**：焦点不在你想要的按钮上

**解决**：
- 先用 ↑/↓ 键切换焦点
- 确认绿色边框在正确的按钮上
- 再按 ENTER 键

## 💡 使用技巧

### 技巧 1：快速后台

录制开始后，**连按两次 ENTER 键**：
1. 第一次：开始录制
2. 第二次：后台运行（焦点默认在第一个按钮）

---

### 技巧 2：确认焦点位置

操作前先看哪个按钮有**绿色边框**，这个按钮会被触发。

---

### 技巧 3：ADB 辅助操作

如果触摸板不顺手，可以用 ADB 模拟：

```bash
# 向下导航
adb shell input keyevent 20

# 向上导航
adb shell input keyevent 19

# 确认
adb shell input keyevent 66
```

## 📊 操作流程图

```
┌─────────┐
│ 打开应用 │
└────┬────┘
     │
     ▼
┌─────────────┐
│ 按 ENTER    │ 开始录制
└────┬────────┘
     │
     ▼
┌──────────────────┐
│ 录制中           │
│ 焦点默认在       │
│ "后台运行"       │
└────┬─────────────┘
     │
     ├─────────────┬─────────────┐
     │             │             │
     ▼             ▼             ▼
┌─────────┐  ┌─────────┐  ┌─────────┐
│按 ENTER │  │按 ↓ 键  │  │等待一段 │
│后台运行 │  │切换焦点 │  │时间后   │
└─────────┘  └────┬────┘  │操作     │
     │             │       └─────────┘
     ▼             ▼
┌─────────┐  ┌─────────┐
│应用后台 │  │按 ENTER │
│继续录制 │  │停止录制 │
└─────────┘  └─────────┘
```

## ✅ 新版本优势

1. ✅ **用户掌控** - 决定何时切换后台
2. ✅ **灵活操作** - 可以在前台观察录制效果
3. ✅ **方向导航** - 完整支持触摸板方向键
4. ✅ **清晰反馈** - 绿色边框明确显示焦点位置
5. ✅ **快速操作** - 连按两次 ENTER 即可快速后台

---

**现在就试试新版本吧！** 🎮

在你的 Rokid 眼镜上：
1. 按 ENTER 键开始录制
2. 用 ↑↓ 键选择操作
3. 按 ENTER 键确认

完全由你控制！🚀

