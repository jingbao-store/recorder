# 快速导航测试清单

## 🎯 测试目标

验证以下功能：
1. ✅ 开始录制后**不自动后台**
2. ✅ 显示两个按钮："后台运行" + "停止录制"
3. ✅ **方向键导航**在两个按钮间切换
4. ✅ ENTER 键触发正确的按钮

---

## 📋 测试步骤

### 测试 1：开始录制（保持前台）

**操作**：
1. 应用启动后，按 ENTER 键

**预期结果**：
- ✅ 系统请求屏幕录制权限
- ✅ 授权后开始录制
- ✅ 应用**保持在前台**（不自动最小化）
- ✅ 显示两个按钮：
  - 第一个："后台运行"（绿色）有绿色边框
  - 第二个："停止录制"（红色）无边框

**通过标准**：
- [ ] 录制开始
- [ ] 应用未自动后台
- [ ] 看到两个按钮

---

### 测试 2：方向键向下导航

**操作**：
1. 录制开始后，按 ↓ 键（向下）

**预期结果**：
- ✅ 焦点从"后台运行"移动到"停止录制"
- ✅ "停止录制"按钮出现绿色边框
- ✅ "后台运行"按钮边框消失

**通过标准**：
- [ ] 绿色边框移动到下面的按钮

---

### 测试 3：方向键向上导航

**操作**：
1. 在"停止录制"有焦点时，按 ↑ 键（向上）

**预期结果**：
- ✅ 焦点从"停止录制"移动回"后台运行"
- ✅ "后台运行"按钮出现绿色边框
- ✅ "停止录制"按钮边框消失

**通过标准**：
- [ ] 绿色边框移动回上面的按钮

---

### 测试 4：触发"后台运行"

**操作**：
1. 确保焦点在"后台运行"（有绿色边框）
2. 按 ENTER 键

**预期结果**：
- ✅ 应用切换到后台
- ✅ 录制继续
- ✅ 通知栏显示"AR 录制器 - 正在录制..."

**通过标准**：
- [ ] 应用切换到后台
- [ ] 看到通知栏图标

**后续操作**：
- 返回应用：打开应用列表，选择"AR 录制器"

---

### 测试 5：触发"停止录制"

**操作**：
1. 重新打开应用（或重新开始录制）
2. 按 ↓ 键切换到"停止录制"
3. 确认有绿色边框
4. 按 ENTER 键

**预期结果**：
- ✅ 录制停止
- ✅ 显示"录制完成"
- ✅ 视频保存到 `/sdcard/Movies/Camera/` (与 photoView4rokidglasses 兼容)

**通过标准**：
- [ ] 录制停止
- [ ] 显示"待机"状态

---

### 测试 6：快速后台（连按两次 ENTER）

**操作**：
1. 从待机状态，快速连按两次 ENTER 键

**预期结果**：
- ✅ 第一次 ENTER：开始录制
- ✅ 第二次 ENTER：后台运行（焦点默认在第一个按钮）

**通过标准**：
- [ ] 录制启动后立即后台

---

## 🔍 调试命令

### 查看应用状态

```bash
adb -s 1901092534000358 shell dumpsys activity activities | grep "mResumedActivity"
```

### 模拟按键

```bash
# 向下导航
adb -s 1901092534000358 shell input keyevent KEYCODE_DPAD_DOWN

# 向上导航
adb -s 1901092534000358 shell input keyevent KEYCODE_DPAD_UP

# ENTER 确认
adb -s 1901092534000358 shell input keyevent KEYCODE_ENTER
```

### 查看日志

```bash
adb -s 1901092534000358 logcat -s RecordingService:D RecorderViewModelSimple:D RokidRecorderScreen:D
```

---

## ✅ 测试结果总结

### 通过的测试

- [ ] 测试 1：开始录制不自动后台
- [ ] 测试 2：方向键向下导航
- [ ] 测试 3：方向键向上导航
- [ ] 测试 4：触发"后台运行"
- [ ] 测试 5：触发"停止录制"
- [ ] 测试 6：快速后台

### 总分

**通过： __ / 6**

---

## 🐛 问题记录

如果遇到问题，记录如下信息：

1. **问题描述**：


2. **重现步骤**：


3. **ADB 日志**：
```bash
adb -s 1901092534000358 logcat > debug.log
```

---

## 🎮 操作提示

**视觉提示**：
- 🟢 **绿色边框** = 当前按钮有焦点
- 无边框 = 按钮没有焦点

**按键操作**：
- ↑ = 向上切换焦点
- ↓ = 向下切换焦点
- ENTER = 触发当前有焦点的按钮

**屏幕显示**：
```
录制中状态：
┌────────────────────────┐
│    🔴 录制中           │
│      00:15             │
│  ↑↓ 切换按钮           │
│  确认键选择操作         │
│                        │
│ [🟢═══后台运行═══]      │ ← 绿色边框 = 有焦点
│ [   停止录制    ]      │
└────────────────────────┘
```

---

**开始测试吧！** 🚀

在你的 Rokid 眼镜上：
1. 应用已启动
2. 按 ENTER 键开始录制
3. 用 ↑↓ 键测试导航
4. 按 ENTER 键确认操作

